000002 CLNT S0 starting raft node[0]
000002 CLNT S1 starting raft node[1]
000002 CLNT S2 starting raft node[2]
Test (2A): initial election ...
003213 CLNT S0 raft node[0] becomes candidate, term0
003214 CLNT S0 我是candidate,准备发送requestvote--------------
003215 CLNT S0 term1: sending requestvote to server[2]
003215 CLNT S0 term1: sending requestvote to server[1]
003218 CLNT S2 , term1: vote for node[0]
003219 CLNT S1 , term1: vote for node[0]
003220 CLNT S0 term1: getting vote from node[1] true
003221 CLNT S0 getting vote message VoteGranted=true
003221 CLNT S0  vote count for node[0] is 2
003221 CLNT S0 I become leader!!!!
003221 CLNT S0 term1: getting vote from node[2] true
003615 CLNT S0 开始心跳!!!!  耗时：361
003619 CLNT S2 收到心跳!!!!
003619 CLNT S2 appendentry成功，args.LogEntries：0
003620 CLNT S1 收到心跳!!!!
003620 CLNT S1 appendentry成功，args.LogEntries：0
005290 CLNT S0 开始心跳!!!!  耗时：167
005296 CLNT S2 收到心跳!!!!
005296 CLNT S2 appendentry成功，args.LogEntries：0
005298 CLNT S1 收到心跳!!!!
005298 CLNT S1 appendentry成功，args.LogEntries：0
006978 CLNT S0 开始心跳!!!!  耗时：168
006982 CLNT S2 收到心跳!!!!
006982 CLNT S2 appendentry成功，args.LogEntries：0
006984 CLNT S1 收到心跳!!!!
006984 CLNT S1 appendentry成功，args.LogEntries：0
008586 CLNT S0 开始心跳!!!!  耗时：160
008593 CLNT S2 收到心跳!!!!
008593 CLNT S2 appendentry成功，args.LogEntries：0
008598 CLNT S1 收到心跳!!!!
008598 CLNT S1 appendentry成功，args.LogEntries：0
010209 CLNT S0 开始心跳!!!!  耗时：162
010212 CLNT S2 收到心跳!!!!
010212 CLNT S2 appendentry成功，args.LogEntries：0
010217 CLNT S1 收到心跳!!!!
010217 CLNT S1 appendentry成功，args.LogEntries：0
011818 CLNT S0 开始心跳!!!!  耗时：160
011822 CLNT S1 收到心跳!!!!
011822 CLNT S1 appendentry成功，args.LogEntries：0
011824 CLNT S2 收到心跳!!!!
011824 CLNT S2 appendentry成功，args.LogEntries：0
013440 CLNT S0 开始心跳!!!!  耗时：162
013443 CLNT S2 收到心跳!!!!
013443 CLNT S2 appendentry成功，args.LogEntries：0
013447 CLNT S1 收到心跳!!!!
013447 CLNT S1 appendentry成功，args.LogEntries：0
015068 CLNT S0 开始心跳!!!!  耗时：162
015073 CLNT S1 收到心跳!!!!
015074 CLNT S1 appendentry成功，args.LogEntries：0
015081 CLNT S2 收到心跳!!!!
015081 CLNT S2 appendentry成功，args.LogEntries：0
016675 CLNT S0 开始心跳!!!!  耗时：160
016677 CLNT S2 收到心跳!!!!
016677 CLNT S2 appendentry成功，args.LogEntries：0
016679 CLNT S1 收到心跳!!!!
016680 CLNT S1 appendentry成功，args.LogEntries：0
018288 CLNT S0 开始心跳!!!!  耗时：161
018291 CLNT S2 收到心跳!!!!
018291 CLNT S2 appendentry成功，args.LogEntries：0
018295 CLNT S1 收到心跳!!!!
018295 CLNT S1 appendentry成功，args.LogEntries：0
019892 CLNT S0 开始心跳!!!!  耗时：160
019894 CLNT S2 收到心跳!!!!
019894 CLNT S2 appendentry成功，args.LogEntries：0
019896 CLNT S1 收到心跳!!!!
019897 CLNT S1 appendentry成功，args.LogEntries：0
021533 CLNT S0 开始心跳!!!!  耗时：164
021536 CLNT S1 收到心跳!!!!
021536 CLNT S1 appendentry成功，args.LogEntries：0
021538 CLNT S2 收到心跳!!!!
021538 CLNT S2 appendentry成功，args.LogEntries：0
023233 CLNT S0 开始心跳!!!!  耗时：169
023236 CLNT S2 收到心跳!!!!
023237 CLNT S2 appendentry成功，args.LogEntries：0
023239 CLNT S1 收到心跳!!!!
023239 CLNT S1 appendentry成功，args.LogEntries：0
024921 CLNT S0 开始心跳!!!!  耗时：168
024924 CLNT S2 收到心跳!!!!
024924 CLNT S2 appendentry成功，args.LogEntries：0
024926 CLNT S1 收到心跳!!!!
024927 CLNT S1 appendentry成功，args.LogEntries：0
026529 CLNT S0 开始心跳!!!!  耗时：160
026533 CLNT S2 收到心跳!!!!
026533 CLNT S2 appendentry成功，args.LogEntries：0
026535 CLNT S1 收到心跳!!!!
026535 CLNT S1 appendentry成功，args.LogEntries：0
028188 CLNT S0 开始心跳!!!!  耗时：165
028193 CLNT S1 收到心跳!!!!
028193 CLNT S1 appendentry成功，args.LogEntries：0
028195 CLNT S2 收到心跳!!!!
028195 CLNT S2 appendentry成功，args.LogEntries：0
029831 CLNT S0 开始心跳!!!!  耗时：164
029833 CLNT S2 收到心跳!!!!
029833 CLNT S2 appendentry成功，args.LogEntries：0
029835 CLNT S1 收到心跳!!!!
029836 CLNT S1 appendentry成功，args.LogEntries：0
  ... Passed --   3.0  3   36    8918    0
030083 CLNT S0 starting raft node[0]
030084 CLNT S1 starting raft node[1]
030084 CLNT S2 starting raft node[2]
Test (2A): election after network failure ...
034542 CLNT S1 raft node[1] becomes candidate, term0
034543 CLNT S2 raft node[2] becomes candidate, term0
034543 CLNT S2 我是candidate,准备发送requestvote--------------
034544 CLNT S2 term1: sending requestvote to server[1]
034546 CLNT S1  term1 currentTerm大一些？false rf.votedFor 1
034547 CLNT S2 term1: getting vote from node[1] true
034547 CLNT S2 getting vote message VoteGranted=false
034547 CLNT S2 term1: sending requestvote to server[0]
034548 CLNT S0 , term1: vote for node[2]
034549 CLNT S2 term1: getting vote from node[0] true
034549 CLNT S2 getting vote message VoteGranted=true
034549 CLNT S2  vote count for node[2] is 2
034549 CLNT S2 I become leader!!!!
034549 CLNT S2 开始心跳!!!!  耗时：446
034550 CLNT S1 收到心跳!!!!
034551 CLNT S1  我变成follower了
034551 CLNT S1 appendentry成功，args.LogEntries：0
034552 CLNT S0 收到心跳!!!!
034552 CLNT S0 appendentry成功，args.LogEntries：0
034553 CLNT S1 我是candidate,准备发送requestvote--------------
fatal error: sync: unlock of unlocked mutex

goroutine 116 [running]:
runtime.throw(0x5fea8a, 0x1e)
	/usr/lib/go-1.13/src/runtime/panic.go:774 +0x72 fp=0xc000160e30 sp=0xc000160e00 pc=0x42ed92
sync.throw(0x5fea8a, 0x1e)
	/usr/lib/go-1.13/src/runtime/panic.go:760 +0x35 fp=0xc000160e50 sp=0xc000160e30 pc=0x42ed15
sync.(*Mutex).unlockSlow(0xc00018e1c0, 0xc0ffffffff)
	/usr/lib/go-1.13/src/sync/mutex.go:196 +0xd6 fp=0xc000160e78 sp=0xc000160e50 pc=0x46bbd6
sync.(*Mutex).Unlock(0xc00018e1c0)
	/usr/lib/go-1.13/src/sync/mutex.go:190 +0x48 fp=0xc000160e98 sp=0xc000160e78 pc=0x46bae8
_/mnt/d/Desktop/6.824/src/raft.Make.func1.1.1(0xc00018e1c0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:531 +0x84c fp=0xc000160fd8 sp=0xc000160e98 pc=0x58adac
runtime.goexit()
	/usr/lib/go-1.13/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc000160fe0 sp=0xc000160fd8 pc=0x45d721
created by _/mnt/d/Desktop/6.824/src/raft.Make.func1.1
	/mnt/d/Desktop/6.824/src/raft/raft.go:472 +0xc9

goroutine 1 [chan receive]:
testing.(*T).Run(0xc000262000, 0x5fa9aa, 0x10, 0x604f78, 0x47f201)
	/usr/lib/go-1.13/src/testing/testing.go:961 +0x377
testing.runTests.func1(0xc0000f0000)
	/usr/lib/go-1.13/src/testing/testing.go:1202 +0x78
testing.tRunner(0xc0000f0000, 0xc00007fdc0)
	/usr/lib/go-1.13/src/testing/testing.go:909 +0xc9
testing.runTests(0xc0000b67a0, 0x765ae0, 0x12, 0x12, 0x0)
	/usr/lib/go-1.13/src/testing/testing.go:1200 +0x2a7
testing.(*M).Run(0xc0000e0000, 0x0)
	/usr/lib/go-1.13/src/testing/testing.go:1117 +0x176
main.main()
	_testmain.go:78 +0x135

goroutine 151 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x1ff2b600)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.(*config).checkOneLeader(0xc000264000, 0x601669)
	/mnt/d/Desktop/6.824/src/raft/config.go:303 +0x31f
_/mnt/d/Desktop/6.824/src/raft.TestReElection2A(0xc000262000)
	/mnt/d/Desktop/6.824/src/raft/test_test.go:59 +0xc4
testing.tRunner(0xc000262000, 0x604f78)
	/usr/lib/go-1.13/src/testing/testing.go:909 +0xc9
created by testing.(*T).Run
	/usr/lib/go-1.13/src/testing/testing.go:960 +0x350

goroutine 21 [chan receive]:
_/mnt/d/Desktop/6.824/src/raft.(*config).start1.func1(0xc000090360, 0xc0000ca5a0, 0x0)
	/mnt/d/Desktop/6.824/src/raft/config.go:168 +0x6f
created by _/mnt/d/Desktop/6.824/src/raft.(*config).start1
	/mnt/d/Desktop/6.824/src/raft/config.go:167 +0x461

goroutine 189 [runnable]:
_/mnt/d/Desktop/6.824/src/raft.Make.func1.1.1.1(0xc00018e1c0, 0x1, 0x2, 0xc00027e3c0, 0xc0000aba40)
	/mnt/d/Desktop/6.824/src/raft/raft.go:491
created by _/mnt/d/Desktop/6.824/src/raft.Make.func1.1.1
	/mnt/d/Desktop/6.824/src/raft/raft.go:491 +0x216

goroutine 25 [chan receive]:
_/mnt/d/Desktop/6.824/src/raft.(*config).start1.func1(0xc0000903c0, 0xc0000ca5a0, 0x1)
	/mnt/d/Desktop/6.824/src/raft/config.go:168 +0x6f
created by _/mnt/d/Desktop/6.824/src/raft.(*config).start1
	/mnt/d/Desktop/6.824/src/raft/config.go:167 +0x461

goroutine 29 [chan receive]:
_/mnt/d/Desktop/6.824/src/raft.(*config).start1.func1(0xc000090420, 0xc0000ca5a0, 0x2)
	/mnt/d/Desktop/6.824/src/raft/config.go:168 +0x6f
created by _/mnt/d/Desktop/6.824/src/raft.(*config).start1
	/mnt/d/Desktop/6.824/src/raft/config.go:167 +0x461

goroutine 188 [runnable]:
_/mnt/d/Desktop/6.824/src/raft.Make.func1.1.1.1(0xc00018e1c0, 0x1, 0x0, 0xc00027e3c0, 0xc0000aba40)
	/mnt/d/Desktop/6.824/src/raft/raft.go:491
created by _/mnt/d/Desktop/6.824/src/raft.Make.func1.1.1
	/mnt/d/Desktop/6.824/src/raft/raft.go:491 +0x216

goroutine 152 [select]:
_/mnt/d/Desktop/6.824/src/labrpc.MakeNetwork.func1(0xc000174370)
	/mnt/d/Desktop/6.824/src/labrpc/labrpc.go:151 +0x160
created by _/mnt/d/Desktop/6.824/src/labrpc.MakeNetwork
	/mnt/d/Desktop/6.824/src/labrpc/labrpc.go:149 +0x138

goroutine 153 [chan receive]:
_/mnt/d/Desktop/6.824/src/raft.(*config).start1.func1(0xc000150ae0, 0xc000264000, 0x0)
	/mnt/d/Desktop/6.824/src/raft/config.go:168 +0x6f
created by _/mnt/d/Desktop/6.824/src/raft.(*config).start1
	/mnt/d/Desktop/6.824/src/raft/config.go:167 +0x461

goroutine 154 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func1(0xc00018e0e0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:446 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:439 +0x2e5

goroutine 155 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func2(0xc00018e0e0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:590 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:587 +0x307

goroutine 156 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func3(0xc00018e0e0, 0xc000150ae0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:683 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:681 +0x336

goroutine 157 [chan receive]:
_/mnt/d/Desktop/6.824/src/raft.(*config).start1.func1(0xc000150b40, 0xc000264000, 0x1)
	/mnt/d/Desktop/6.824/src/raft/config.go:168 +0x6f
created by _/mnt/d/Desktop/6.824/src/raft.(*config).start1
	/mnt/d/Desktop/6.824/src/raft/config.go:167 +0x461

goroutine 158 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func1(0xc00018e1c0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:446 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:439 +0x2e5

goroutine 159 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func2(0xc00018e1c0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:590 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:587 +0x307

goroutine 160 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func3(0xc00018e1c0, 0xc000150b40)
	/mnt/d/Desktop/6.824/src/raft/raft.go:683 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:681 +0x336

goroutine 161 [chan receive]:
_/mnt/d/Desktop/6.824/src/raft.(*config).start1.func1(0xc000150ba0, 0xc000264000, 0x2)
	/mnt/d/Desktop/6.824/src/raft/config.go:168 +0x6f
created by _/mnt/d/Desktop/6.824/src/raft.(*config).start1
	/mnt/d/Desktop/6.824/src/raft/config.go:167 +0x461

goroutine 162 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func1(0xc00018e2a0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:446 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:439 +0x2e5

goroutine 163 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func2(0xc00018e2a0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:590 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:587 +0x307

goroutine 164 [sleep]:
runtime.goparkunlock(...)
	/usr/lib/go-1.13/src/runtime/proc.go:310
time.Sleep(0x2625a00)
	/usr/lib/go-1.13/src/runtime/time.go:105 +0x157
_/mnt/d/Desktop/6.824/src/raft.Make.func3(0xc00018e2a0, 0xc000150ba0)
	/mnt/d/Desktop/6.824/src/raft/raft.go:683 +0x37
created by _/mnt/d/Desktop/6.824/src/raft.Make
	/mnt/d/Desktop/6.824/src/raft/raft.go:681 +0x336
exit status 2
FAIL	_/mnt/d/Desktop/6.824/src/raft	3.471s
